<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./CSS/style.css" />
    <title>Module 6</title>
  </head>
  <body>
    <section class="container">
      <h3 class="title">Объектная модель документа</h3>
      <p>
        При работе с браузерам доступный функционал состоит из нескольких
        модулей, поскольку JS не имеет интрументов для рауботы с браузером.
      </p>
      <ul>
        <li><b>JS включает в себя</b></li>
        <li>1. ECMAScript</li>
        <li>2. DOM</li>
        <li>3. BOM</li>
      </ul>
      <p>
        Объектная модель документа (DOM - document object module) - независимый
        от языка интерфейс для работы с HTML. Содержит набор свойств и методов,
        позволяющий искать, создавать и удалять элементы, реагировать на
        действия пользователя и многое другое. Т.е соединять страницу с языком
        программирования. <br />
        DOM - это отображение HTML документа, древовидная структура, в которой
        каждый узел это JS объект со свойствами и методами, составляющие часть
        HTML документа. Каждый элемент в документе, весь документ в целом,
        заголовок, ссылка - это часть DOM, поэтому все они могут быть изменены
        из JS кода. <br />
        Объектная модель браузера (BOM - browser object module) - независимый от
        языка интерфейс для работы с вкладкой браузера. Содержит набор свйоств и
        методов, позволяющих получить доступ непосредственно к текущей вкладке и
        ряду функций браузера. Содержит объект работы истории навигации,
        метоположения и многое другое. <br />
        <b>HTML документ и DOM</b><br />
        Согласно DOM модели каждый тег образует отдельный элемент - узел, каждый
        фрагмент текста - тектовый элемент. HTML документ это иерархическое
        древо, которое у каждого элемента (кроме корневого) есть только один
        родительский элемент, т.е элемент, внутри которого он располагается. Это
        дерево появляется за счет вложенной структуры тегов и текстовых частей.
      </p>
      <img src="./images/DOMtree.jpg" alt="" class="img" />
      <p>
        Чтобы отобразить HTML документ браузер сначала превращает его в
        понимаемый формат DOM. Движение браузера имеет спец фрагмент кода
        HTML-Parser, который используется для преобразования HTML в DOM. <br />
        В HTML вложенность определяет отношение родитель-ребенок между
        элементами. В DOM объекты соеденены в древовидных структурах данных
        фиксируя эти взаимодействия. <br />
        Браузер строит DOM постепенно, как только поступают первые фрагменты
        кода, он начинает парсить HTML, добавляя узлы в древовидную структуру.
      </p>
      <img src="./images/parser1.jpg" alt="" class="img" />
      <p>
        После того, как DOM древо построено в нем можно найти элемент с помощью
        JS и выполнить с ним определенные действия, поскольку каждый элемент
        имеет интерфейс с множеством свойств и методов.
      </p>
      <img src="./images/parser2.jpg" alt="" class="img" />
      <p>
        <b>DOM дерево</b><br />
        Визуализируем дерево HTML документа используя сервис генератора DOM
        дерева
      </p>
      <p class="bg">
        &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Document
        title&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Page
        title&lt;/h1&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Link
        1&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Link
        2&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/body&gt; &lt;/html&gt;
      </p>
      <img src="./images/live-dom-tree.jpg" alt="" class="img" />
      <p>
        В этом дереве выделены два типа узлов <br />
        Узлы - элементы (element node) образуются тегами, обычным образом одни
        элементы вложены в лругие. Структура дерева образована только за счет
        них <br />
        Текстовые узлы (text node) образуются текстом внутри элемента. Текстовый
        узел содержит только строчку текста и не может иметь дочерних элементов,
        т.е он всегда на самом низком уровне иерархии. Пробелы и перенос строк
        это тоже тектовый узел. <br />
        Из этого правила есть исключения - пробелы к head игнорируются, а любое
        содержимое после body не создает элемент, браузер переносит его в конец
        body
      </p>
      <h3 class="title">Навигация по DOM</h3>
      <p>
        DOM представляет собой широкий спектр для работы с элементом и его
        содержимым, но для этого нужно сначала получить ссылку на него. Доступ к
        DOM начинается с объекта document, из него можно добраться до любых
        элементов <br />
        document - это часть глобального объекта window, который доступен в
        скрипте, когда он выполняется в браузере. Так же как alert, сonsole.log,
        prompt и многое другое. <br />
        Элемент DOM дерева имеет иерархическое отношение друг к другу. Для
        описания отношения используется термин предок(ancestor),
        отпрыск(descedant), отец(parent), ребенок(child) и сосед(sibling).
      </p>
      <p>
        Самый высокий элемент называется корневым - root node, каждый элемент
        кроме корневого имеет только одного родителя
      </p>
      <ul>
        <li>У элемента может быть сколько угодно детей</li>
        <li>Соседи - это элементы с общим родительским элементом</li>
        <li>
          Дочерние элементы (дети), которые находятся непосредственно внутри
          текущего (первая вложенность)
        </li>
        <li>
          Потомки - все элементы, которые находятся в текущем месте с их детьми,
          детьми их детей и т.д
        </li>
      </ul>
      <img src="./images/dom-traversal.jpg" alt="" class="img" />
      <p>Для навигации по этой иерархии элементы имеют след свйоство</p>
      <ul>
        <li>elem.parentNode - выбирает родительский элемент</li>
        <li>
          elem.childNode - псевдо массив, сохраняет все дочерние элементы,
          включая текстовые
        </li>
        <li>
          elem.children - псевдо массив сохраняющий только узлы дочерних
          элементов, т.е только те, что отвечают тегам
        </li>
        <li>
          elem.firstChild - выберет первый дочерний элемент в середине elem,
          включительно тектовые узлы
        </li>
        <li>
          elem.firstElementChild - выберет первый дочерний узел-элемент в
          середине elem
        </li>
        <li>
          elem.lastChild - выберет последний дочерний элемент в середине elem,
          включительно тектовые узлы
        </li>
        <li>
          elem.lastElementChild - выберет последний дочерний узел-элемент в
          середине elem
        </li>
        <li>
          elem.previousSibling - выберет элемент слева от elem (его предыдущего
          соседа)
        </li>
        <li>
          elem.previousElementSibling - выберет узел-элемент слева от elem (его
          предыдущего соседа)
        </li>
        <li>
          elem.nextSibling - выберет элемент справа от elem (его след соседа)
        </li>
        <li>
          elem.nextElementSibling - выберет узел-элемент справа от elem (его
          след соседа)
        </li>
      </ul>
      <p>
        DOM коллекции такие как child nodes и children - псевдо массивы (node
        list), у них нет большинства методов массива
      </p>
      <div class="dom">
        <ul id="menu" class="menu">
          <li class="menu__item">Home</li>
          <li class="menu__item">About</li>
          <li class="menu__item">Gallery</li>
          <li>Blog</li>
        </ul>
      </div>
      <h3 class="title">Поиск элементов</h3>
      <p>
        Итак мы уже знаем что такое DOM element - это объект со свойствами и
        методами. Пришло время быстро находить элемент по произвольным css
        селекторам. Группа методов elem.querySelector* - это современны стандарт
        посика элемнтов. Они позволяют найти элемент или группу элементов css
        селекторов любой сложности <br />
        <b>element.querySelector("selector")</b><br />
        Используется, если необходимо найти только один, чаще всего уникальный
        элемент. Он возвращает первый найденый внутри элемент - element, который
        соответствует css селектору selector. Если ничего не найдено вернет
        null. <br />
        <b>element.querySelectorAll("selector")</b><br />
        Используется если необходимо найти коллекцию элементов, т.е получить
        массив ссылок на элементы с одним и тем же селектором, например все
        элементы классом menu__item. возвращает псевдомассив всех элементов
        внутри element, соответствующих css селекторов selector. Если ничего не
        найдено вернет пустой массив.
      </p>
      <h3 class="title">Свойства и атрибуты</h3>
      <p>
        В период постройки DOM некоторые стандартные HTML атрибуты становятся
        свойствами элемента.
      </p>
      <ul>
        <li>
          <b>value</b> - содержит текущее текстовое содержимое элементов формы
        </li>
        <li><b>checked</b> - сохраняет состояние чекбокса или радиокнопки</li>
        <li>
          <b>name</b> - сохраняет значение, указанное в HTML атрибуте name
        </li>
        <li><b>src</b> - путь к сохранению тега img</li>
      </ul>
      <p class="bg">
        <img
          src="https://picsum.photos/id/9/320/240"
          alt="laptop"
          class="image"
          width="300"
        />
      </p>
      <h3 class="title">Свойство textContent</h3>
      <p>
        elem.textContent возвращает текстовое содержимое внутри элемента.
        Доступен для чтения и записи. Не важно что textContent данные всегда
        будут записаны в виде текста
      </p>
      <article class="article">
        <h4 class="article__title">Lorem, ipsum dolor.</h4>
        <p class="article__text">
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque
          incidunt cupiditate accusamus expedita veniam nemo ut qui fuga cumque
          id.
        </p>
      </article>
      <h3 class="title">Свойство classList</h3>
      <p>
        Свойство classList хранит объект с методами для работы с классами
        элементов
      </p>
      <ul>
        <li>
          elem.classList.contains(class) return true or false. В наличии от
          класса в элементе
        </li>
        <li>
          elem.classList.add(class) - добавляет класс к списку классов элементов
        </li>
        <li>
          elem.classList.remove(class) - удаляет класс из списка классов
          элементов
        </li>
        <li>
          elem.classList.toggle(class) - если отсутствует класс, то добавляет
          его, а если присутствует то удаляет
        </li>
        <li>
          elem.classList.replace(oldClass, newClass) - заменяет существующий
          класс(oldClass) на указаный (newClass)
        </li>
      </ul>
      <p class="bg">
        <a href="#" class="link is-active">Random link</a>
      </p>
      <h3 class="title">Свойство style</h3>
      <p>
        Использется для чтения и изменения онлайн стилей. Возвразает объект
        CSSStyleDeclaration, содержащий список всех свойств определенных только
        в встроенных стилях элемента, а не во всех css. Во время записи свойство
        записывается camelCase, т.е background-color превращается в
        elem.style.backgroundColor
      </p>
      <p class="bg">
        const button = document.querySelector(".btn"); <br />
        button.style.backgroundColor = "blue";<br />
        button.style.fontSize = "24px";<br />
        button.style.textAlign = "center";<br />
      </p>
      <h3 class="title">Атрибуты</h3>
      <p>
        DOM элементам соответствуют HTML теги, которые содержат текстовые
        атрибуты. Доступ к атрибутам устанавливается с помощью стандартных
        методов. Эти методы работают со свойствами, которые находятся в HTML
      </p>
      <ul>
        <li>
          elem.hasAttribute(name) - проверяет наличие атрибута, возвращает true
          or false
        </li>
        <li>
          elem.getAttribute(name) - получает значение атрибута и возвращает его
        </li>
        <li>elem.setAttribute(name, value) - устанавливает атрибут</li>
        <li>elem.removeAttribute(name) - удаляет атрибут</li>
        <li>
          elem.attributes - свойство возвращающее в объект все атрибуты элемента
        </li>
      </ul>
      <p class="bg">
        <img
          src="https://picsum.photos/id/9/320/240"
          alt="laptop"
          class="img1"
          width="300"
        />
        const img1 = document.querySelector('.img1'); <br />
        console.log(img1.attributes);// {0:class,1:src,alt,length:1 }<br />
        console.log(img1.hasAttribute("src"));// true<br />
        console.log(img1.getAttribute("alt"));// "laptop"<br />
        img1.setAttribute("alt", "tel")<br />
        console.log(img1.getAttribute('alt'));// "tel"<br />
      </p>
      <h3 class="title">Data атрибуты</h3>
      <p>
        Позволяет добавить к тегу произвольный атрибут и получить его значение в
        JS. Это возможность используется для упрощения написания кода, например
        для привязки данных и индификатора к уникальному индификатору, для
        указания типа действия кнопки и т.д
      </p>
      <p class="bg">
        <button type="button" data-active="save">Save</button>
        <button type="button" data-active="close">Close</button>
      </p>
      <p>
        Для получения значения data атрибута используется свойство dataset,
        после которого стоит имя атрибута. Т.е data - откидывается, а другая
        часть имени записывается как имя свойства объекта
      </p>
      <p class="bg">
        const saveBtn = document.querySelector('button[data-action="save"]');
        <br />
        console.log(seveBtn.dataset.action);//save<br /><br />

        const closeBtn =
        document.querySelector('button[data-action="close"]');<br />
        console.log(closeBtn.dataset.action);//close<br />
      </p>
      <div class="editor">
        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Magni nam iste
        iure totam quidem rem nesciunt non illo! Obcaecati quaerat aut mollitia
        a assumenda quisquam voluptatibus numquam accusantium debitis
        perferendis!
        <div class="actions">
          <button class="btn" type="button" data-action="save">
            Save Text
          </button>
          <button class="btn" type="button" data-action="close">
            Close editor
          </button>
        </div>
      </div>
    </section>
    <script src="./js/moduleSix.js"></script>
    <script src="./js/DOM.js"></script>
  </body>
</html>
